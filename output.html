<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Network</title>
    <script
      type="text/javascript"
      src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"
    ></script>
    <style type="text/css">
      #mynetwork {
        width: 600px;
        height: 400px;
        border: 1px solid lightgray;
      }
    </style>
  </head>
  <body>
  <p id=text></p>
    <div class="slidecontainer">
  <input type="range" 
        min=20 
        max=23 
        value=20 
        class="slider"
        id="myRange"
      />
  <p> Token Count: <span id="demo"></span></p>
</div>
<div><button onclick="draw1()">Draw 1</button>
  <button onclick="draw2()">Draw 2</button>
  </div>
  <div class="container">
    <div id="mynetwork"></div>
<div id="tableContainer"></div>
  </div>
   
    <script type="text/javascript"> 
     
      const fr_to_amount =[];
      function generateTable() {
      var table = document.createElement("table");

      var headerRow = document.createElement("tr");
      var headers = ["From", "To", "Amount"];
      for (var i = 0; i < headers.length; i++) {
        var th = document.createElement("th");
        th.appendChild(document.createTextNode(headers[i]));
        headerRow.appendChild(th);
      }
      table.appendChild(headerRow);

      for (var i = 0; i < fr_to_amount.length; i++) {
        var row = document.createElement("tr");
        for (var j = 0; j < fr_to_amount[i].length; j++) {
          var cell = document.createElement("td");
          cell.appendChild(document.createTextNode(fr_to_amount[i][j]));
          row.appendChild(cell);
        }
        table.appendChild(row);
      }

        var tableContainer = document.getElementById("tableContainer");
        tableContainer.innerHTML = "";
        tableContainer.appendChild(table);
    }
    
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    output.innerHTML = slider.value;
    var transaction_count = 45
    var text = document.getElementById('text');
    text.innerHTML = " Total number of UNISWAP transactions: " + transaction_count;

    var nodes = new vis.DataSet([]);
    var newnodes = [];
    var tokens = [];
    var addresses = [];
    var a = "['BABYREFUND', 'ETH', 'Ben', 'REBATE', 'BRUCE PEPE', 'REFUND', 'PloutΩs', 'LarryCoin', 'Psyop', 'Mr F was here', 'ORAO Network', 'SpongeBob', 'Fanta', 'PRESALE', 'Mrs F was here', 'MMT', 'USD Coin', 'MUMA', 'Chubaki Inu', 'Jake The Dog ', 'SLASHA', 'Encryption AI']";
    var b = "['0x3C7a21Cb00569CA807cA4f1F4cf6c5dbD655EF06', '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', '0x9bf1D7D63dD7a4ce167CF4866388226EEefa702E', '0x32f044dA25218598D4238A4fc6826Ac4ebb97e9E', '0x34C8b3fe84410f9B3870549E037FD1EA7b168977', '0x955d5c14C8D4944dA1Ea7836bd44D54a8eC35Ba1', '0x8718b8EB796ead111C0aF9CE05387e6c741d8e3e', '0xd08623FB2A1f044025EEC65886011CF5D0F06B01', '0x3007083EAA95497cD6B2b809fB97B6A30bdF53D3', '0x3d5d3DCD01469eF8C6bC9C45665835814635c725', '0xEE1CeA7665bA7aa97e982EdeaeCb26B59a04d035', '0x25722Cd432d02895d9BE45f5dEB60fc479c8781E', '0x5AdEbAfBf2FD0D6808A7a1E823759De2DF1df39e', '0xBAcaCD83b68C92Ae07eF382d0c0277D1Bd1c7C4D', '0x9EBBCbC8598Db92999c9B07B118cb5B7a3125661', '0x43B72Bf7F46d72f2d917F49BD97B9A000143eab7', '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', '0xBbe02169b05c1Ca2e6891eca817950A355fA6eF3', '0x0BEdB558b5709B73b359ab8A1f2444885e68802f', '0x8d6C32789D425A6333bBFc9343b551Ea67ed0c91', '0x15F370F9BdB6B51ed01A21d79E9212C7a6562103', '0x397b102dECcACE4AA8E5bA63EeDb8e65ad83E20c']";
    a = a.replace(/'/g, '"');
    b = b.replace(/'/g, '"');
    tokens = tokens.concat(JSON.parse(a));
    addresses = addresses.concat(JSON.parse(b));
   
    slider.oninput = function() { 
      output.innerHTML = this.value;
      nodes.clear();
      newnodes=[];
      for (let i = 0; i < slider.value; i++) { 
           newnodes.push({id: i, label: tokens[i], title: addresses[i]});
      }
      nodes.add(newnodes);
    }
    
    for (let i = 0; i < slider.value; i++) { 
         newnodes.push({id: i, label: tokens[i], title: addresses[i]});
    }
     
nodes.add(newnodes);

      fr_to_amount.push(["BABYREFUND","ETH","296306910458.23"]);
fr_to_amount.push(["Ben","ETH","4141202244.95"]);
fr_to_amount.push(["REBATE","ETH","1833698408.22"]);
fr_to_amount.push(["BRUCE PEPE","ETH","67232731.12"]);
fr_to_amount.push(["REFUND","ETH","44175297.01"]);
fr_to_amount.push(["PloutΩs","ETH","10275358.33"]);
fr_to_amount.push(["LarryCoin","ETH","3014111.42"]);
fr_to_amount.push(["Psyop","ETH","346815.94"]);
fr_to_amount.push(["Mr F was here","ETH","41601.99"]);
fr_to_amount.push(["ETH","Mr F was here","15.22"]);
fr_to_amount.push(["ETH","ORAO Network","2.0"]);
fr_to_amount.push(["ETH","REFUND","1.72"]);
fr_to_amount.push(["ETH","SpongeBob","0.84"]);
fr_to_amount.push(["ETH","Fanta","0.43"]);
fr_to_amount.push(["ETH","PRESALE","0.2"]);
fr_to_amount.push(["ETH","Mrs F was here","0.16"]);
fr_to_amount.push(["ETH","Ben","0.13"]);
fr_to_amount.push(["ETH","MMT","0.13"]);
fr_to_amount.push(["ETH","USD Coin","0.12"]);
fr_to_amount.push(["ETH","MUMA","0.1"]);
fr_to_amount.push(["ETH","Chubaki Inu","0.1"]);
fr_to_amount.push(["ETH","Jake The Dog ","0.1"]);
fr_to_amount.push(["ETH","SLASHA","0.07"]);
fr_to_amount.push(["ETH","Mrs F was here","0.05"]);
fr_to_amount.push(["Encryption AI","ETH","0.0"]);

var edges = new vis.DataSet([
{ from: 0 ,to: 1, arrows: "to", label: "296306910458.23", value: 5 },
{ from: 2 ,to: 1, arrows: "to", label: "4141202244.95", value: 4 },
{ from: 3 ,to: 1, arrows: "to", label: "1833698408.22", value: 3 },
{ from: 4 ,to: 1, arrows: "to", label: "67232731.12", value: 2 },
{ from: 5 ,to: 1, arrows: "to", label: "44175297.01", value: 1 },
{ from: 6 ,to: 1, arrows: "to", label: "10275358.33", value: 0 },
{ from: 7 ,to: 1, arrows: "to", label: "3014111.42", value: 0 },
{ from: 8 ,to: 1, arrows: "to", label: "346815.94", value: 0 },
{ from: 9 ,to: 1, arrows: "to", label: "41601.99", value: 0 },
{ from: 1 ,to: 9, arrows: "to", label: "15.22", value: 0 },
{ from: 1 ,to: 10, arrows: "to", label: "2.0", value: 0 },
{ from: 1 ,to: 5, arrows: "to", label: "1.72", value: 0 },
{ from: 1 ,to: 11, arrows: "to", label: "0.84", value: 0 },
{ from: 1 ,to: 12, arrows: "to", label: "0.43", value: 0 },
{ from: 1 ,to: 13, arrows: "to", label: "0.2", value: 0 },
{ from: 1 ,to: 14, arrows: "to", label: "0.16", value: 0 },
{ from: 1 ,to: 2, arrows: "to", label: "0.13", value: 0 },
{ from: 1 ,to: 15, arrows: "to", label: "0.13", value: 0 },
{ from: 1 ,to: 16, arrows: "to", label: "0.12", value: 0 },
{ from: 1 ,to: 17, arrows: "to", label: "0.1", value: 0 },
{ from: 1 ,to: 18, arrows: "to", label: "0.1", value: 0 },
{ from: 1 ,to: 19, arrows: "to", label: "0.1", value: 0 },
{ from: 1 ,to: 20, arrows: "to", label: "0.07", value: 0 },
{ from: 1 ,to: 14, arrows: "to", label: "0.05", value: 0 },
{ from: 21 ,to: 1, arrows: "to", label: "0.0", value: 0 },
 ]);

      // create a network
      console.log(fr_to_amount);
      var container = document.getElementById("mynetwork");
      var data = {
        nodes: nodes,
        edges: edges,
      };
      var options = {
      layout: {
                      hierarchical: {
                       enabled:false,
                      }
                },
          edges: {
                color: {
                    color: '#EA738D',
                    highlight: '#a973ec',
                }
          },
          nodes: {
                color: {
                    background: '#89ABE3',
                    border: '#89ABE3',
                    highlight: '#a973ec',
                }
          }
      };
      
      var options2 = {
          layout: {
                      hierarchical: {
                        direction: "LR",
                        sortMethod: "directed"
                      }
                },
          edges: {
                color: {
                    color: '#EA738D',
                    highlight: '#a973ec',
                }
          },
          nodes: {
                color: {
                    background: '#89ABE3',
                    border: '#89ABE3',
                    highlight: '#a973ec',
                }
          }
      };
      generateTable();
      var network = new vis.Network(container, data, options);
      function draw1() {
      network.setOptions(options);
    }
     function draw2() {
      network.setOptions(options2);
    }
      
      
    </script>
 
  </body>
</html>
<style type="text/css">
    table, th, td {
      border:1px solid #ddd;
      font-family: Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      padding: 8px;
    }
    th{
    background-color: #EA738D;
    }
  body {
    margin: 0;
    padding: 0;
  }
  
  #mynetwork {
    width: 50%;
    height: 100%;
    border: 1px;
  }
  #tableContainer{
  margin-left:100px;
  }
   button
   {
    margin: 5px;
    }
    p{
    padding: 5px;
    }

  .slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #89ABE3;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #04AA6D;
  cursor: pointer;
}

.container{
display:flex;
}
    
</style>

